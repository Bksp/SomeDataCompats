name: Crear archivo ZIP

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout del repositorio
      uses: actions/checkout@v2
      
    - name: Obtener la versi√≥n del commit
      id: get_version
      run: echo ::set-output name=VERSION::$(git rev-parse --short HEAD)
      
    - name: Crear archivo ZIP
      run: |
        zip -r SOMEDATACOMPATS-${{ steps.get_version.outputs.VERSION }}.zip .
      
    - name: Subir archivo ZIP
      uses: actions/upload-artifact@v2
      with:
        name: archivos-zip
        path: SOMEDATACOMPATS-${{ steps.get_version.outputs.VERSION }}.zip
